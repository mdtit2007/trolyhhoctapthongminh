@model ungdunghocthongminh.Models.EF.Document
@{
    ViewBag.Title = "Detail";
}

<link href="~/Content/assest/css/tailieu.css" rel="stylesheet" />

@if (Model != null)
{
    <div class="container single_product_container">
        <div class="row">
            <div class="col">

                <!-- Breadcrumbs -->
                <div class="breadcrumbs d-flex flex-row align-items-center">
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/danh-muc-tai-lieu/@Model.Alias-@Model.DocumentCategoryId"><i class="fa fa-angle-right" aria-hidden="true"></i>@Model.DocumentCategory.Title</a></li>
                        <li class="active"><a href="#"><i class="fa fa-angle-right" aria-hidden="true"></i>@Model.Title</a></li>
                    </ul>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="col-lg-6">
                <div class="product_details">
                    <div class="product_details_title">
                        <h2>@Model.Title</h2>
                        <p>@Model.Description</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div id="scroll-book-container" class="scroll-book-container">
                    <div id="scroll-book" class="scroll-book">
                        @if (!string.IsNullOrEmpty(ViewBag.FilePath))
                        {
                            var fileExtension = Path.GetExtension(ViewBag.FilePath).ToLower();
                            if (fileExtension == ".pdf")
                            {
                                <iframe src="@Url.Content(ViewBag.FilePath)" width="100%" height="650px"></iframe>
                            }
                            else if (fileExtension == ".jpg" || fileExtension == ".jpeg" || fileExtension == ".png" || fileExtension == ".gif")
                            {
                                <img src="@Url.Content(ViewBag.FilePath)" alt="Document Image" />
                            }
                            else
                            {
                                <p>File type not supported for display.</p>
                            }
                        }
                        else
                        {
                            <p>No file uploaded for this document.</p>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
}

@section scripts{
    <script src="~/Content/assest/js/single_custom.js"></script>
}

<style>
    /* Ensure container and content display properly and flexibly */
    .scroll-book-container {
        position: relative;
        width: 100%; /* Full width of col */
        max-width: 100%; /* Do not exceed container width */
        overflow-x: auto; /* Allow horizontal scrolling if content overflows */
        padding: 10px;
        background: #f9f9f9;
        border: 1px solid #ddd;
        border-radius: 5px;
    }

    /* Ensure content inside is responsive */
    .scroll-book iframe,
    .scroll-book img {
        max-width: 100%; /* Responsive to screen size */
        height: 650px; /* Adjust height for consistent display */
        display: block;
        margin: 0 auto; /* Center-align */
    }

    /* Horizontal scrollable area */
    .scroll-book {
        overflow-x: auto;
        white-space: nowrap;
    }
</style>
